"0","#############################"
"0","## Figure 15"
"0","#############################"
"0","library(""devtools"")"
"0","# install_github(""mtennekes/oldtmaptools"")"
"0","library(oldtmaptools)"
"0",""
"0","crime_densities <- smooth_map(crimes_london, "
"0","                              bandwidth = 0.5, "
"0","                              breaks = c(0, 50, 100, 250, 500, 1000), "
"0","                              cover = london)"
"1","  |                                                                                        "
"1","  |                                                                                  |   0%"
"1","  |                                                                                        "
"1","  |========                                                                          |  10%"
"1","  |                                                                                        "
"1","  |=========================                                                         |  30%"
"1","  |                                                                                        "
"1","  |=========================================                                         |  50%"
"1","  |                                                                                        "
"1","  |=========================================================                         |  70%"
"1","  |                                                                                        "
"1","  |==========================================================================        |  90%"
"1","  |                                                                                        "
"1","  |==================================================================================| 100%"
"0","# download rivers, and get Thames shape"
"0","rivers <- ne_download(scale = ""large"", type = ""rivers_lake_centerlines"", category = ""physical"")"
"2","trying URL 'http://www.naturalearthdata.com/http//www.naturalearthdata.com/download/10m/physical/ne_10m_rivers_lake_centerlines.zip'
"
"2","Content type 'application/zip'"
"2"," length 1817597 bytes (1.7 MB)
"
"2","downloaded 1.7 MB

"
"1","OGR data source with driver:"
"1"," "
"1","ESRI Shapefile"
"1"," "
"1","
"
"1","Source: """
"1",""
"1","C:\Users\NCHC\AppData\Local\Temp\RtmpYzMOQA"
"1",""
"1",""", layer: """
"1",""
"1","ne_10m_rivers_lake_centerlines"
"1",""
"1",""""
"1",""
"1","
"
"1","with"
"1"," "
"1","1455"
"1"," "
"1","features"
"1","
"
"1","It has"
"1"," "
"1","34"
"1"," "
"1","fields"
"1","
"
"1","Integer64 fields read as strings: "
"1"," "
"1","rivernum ne_id"
"1"," "
"1","
"
"0","thames <- crop_shape(rivers, london)"
"0",""
"0","c4 <- tm_shape(crime_densities$polygons) +"
"0","  tm_fill(col = ""level"", palette = ""YlOrRd"", title = expression(""Crimes per "" * km^2)) + "
"0","  tm_shape(london) + tm_borders() +"
"0","  tm_shape(thames) + tm_lines(col = ""steelblue"", lwd = 4) +"
"0","  tm_compass(position = c(""left"", ""bottom"")) +"
"0","  tm_scale_bar(position = c(""left"", ""bottom"")) + "
"0","  tm_style(""gray"", title = ""Crimes in Greater London\nOctober 2015"")"
"0",""
"0","c4"
